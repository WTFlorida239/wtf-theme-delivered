{% comment %}
  Professional Hero Section - Fortune 100 Quality
  Matches Dunkin' Donuts and Starbucks design standards
{% endcomment %}

{% liquid
  assign hero_image = section.settings.hero_image | default: 'wtf_storefront_hero_original.png' | asset_url
  assign logo_image = section.settings.logo_image | default: 'WTFLogo.png' | asset_url
  assign button_link = section.settings.button_link | default: 'tel:(239) 955-0314'
  assign button_label = section.settings.button_label | default: 'Order Now'
  assign hero_alt = section.settings.hero_image_alt | default: section.settings.heading | default: shop.name | append: ' - Kava Bar Cape Coral'
  assign logo_alt = section.settings.logo_alt_text | default: shop.name
  
  # Generate hero image URL for preload
  if section.settings.hero_image
    assign hero_preload_url = section.settings.hero_image | image_url: width: 1920
    assign hero_img_width = section.settings.hero_image.width
    assign hero_img_height = section.settings.hero_image.height
  else
    assign hero_preload_url = 'wtf_storefront_hero_original.png' | asset_url
    assign hero_img_width = 1920
    assign hero_img_height = 1080
  endif
%}

{%- comment -%} Hero Image Preload for LCP Optimization {%- endcomment -%}
<link rel="preload" as="image" href="{{ hero_preload_url }}" fetchpriority="high">

<section class="home-hero">
  <div class="home-hero__media">
    {% if section.settings.hero_image %}
      {% render 'responsive-image',
        image: section.settings.hero_image,
        alt: hero_alt,
        sizes: '100vw',
        loading: 'eager',
        fetchpriority: 'high',
        class: 'home-hero__image',
        width: 1920
      %}
    {% else %}
      <img src="{{ 'wtf_storefront_hero_original.png' | asset_url }}" 
           alt="{{ hero_alt }}" 
           width="{{ hero_img_width }}" 
           height="{{ hero_img_height }}" 
           loading="eager" 
           decoding="async" 
           fetchpriority="high"
           class="home-hero__image" />
    {% endif %}
  </div>

  <div class="page-width">
    <div class="home-hero__inner">
      {% comment %} Logo removed from hero center - now placed in header and other branding locations {% endcomment %}

      {% if section.settings.heading != blank %}
        <h1 class="home-hero__title">{{ section.settings.heading | escape }}</h1>
      {% else %}
        <h1 class="home-hero__title">Cape Coral's Premier Kava Bar | WTF | Welcome To Florida</h1>
      {% endif %}

      {% if section.settings.subheading != blank %}
        <p class="home-hero__subtitle">{{ section.settings.subheading | escape }}</p>
      {% else %}
        <p class="home-hero__subtitle">Best Kava Drinks, Kratom Teas & Sober Nightlife in Southwest Florida</p>
      {% endif %}

      {% if section.settings.description != blank %}
        <p class="home-hero__description">{{ section.settings.description | escape }}</p>
      {% else %}
        <p class="home-hero__description">Experience premium kava beverages, custom kratom teas, and THC products in Cape Coral's most welcoming community space. Serving Cape Coral, Fort Myers, and all of Southwest Florida with the best kava bar experience.</p>
      {% endif %}

      <div class="home-hero__actions">
        {% if section.settings.button_label != blank %}
          <a href="{{ button_link }}" class="btn btn--primary btn--large">
            {{ button_label | escape }}
          </a>
        {% endif %}

        {% if section.settings.secondary_button_label != blank %}
          <a href="{{ section.settings.secondary_button_link | default: '#menu' }}" class="btn btn--secondary btn--large">
            {{ section.settings.secondary_button_label | escape }}
          </a>
        {% endif %}
      </div>

      {% if section.blocks.size > 0 %}
        <div class="home-hero__social">
          {% for block in section.blocks %}
            {% case block.type %}
              {% when 'social_link' %}
                <a href="{{ block.settings.url }}" class="home-hero__social-link" {{ block.shopify_attributes }}>
                  {{ block.settings.label }}
                </a>
            {% endcase %}
          {% endfor %}
        </div>
      {% endif %}
    </div>
  </div>
</section>

<style>
  .home-hero__actions {
    display: flex;
    gap: 2rem;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    margin-bottom: 3rem;
  }

  .home-hero__social {
    display: flex;
    gap: 1.5rem;
    justify-content: center;
    align-items: center;
  }

  .home-hero__social-link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 5rem;
    height: 5rem;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    text-decoration: none;
    font-size: 2rem;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
  }

  .home-hero__social-link:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-2px);
  }

  @media (max-width: 768px) {
    .home-hero__actions {
      flex-direction: column;
      gap: 1.5rem;
    }

    .home-hero__actions .btn {
      width: 100%;
      max-width: 30rem;
    }
  }
</style>

{% schema %}
{
  "name": "Hero Section",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "image_picker",
      "id": "hero_image",
      "label": "Hero Background Image"
    },
    {
      "type": "text",
      "id": "hero_image_alt",
      "label": "Hero Image Alt Text",
      "default": "People socializing outside WTF Welcome to Florida storefront"
    },
    {
      "type": "image_picker",
      "id": "logo_image",
      "label": "Logo Image"
    },
    {
      "type": "checkbox",
      "id": "show_logo",
      "label": "Show Logo",
      "default": true
    },
    {
      "type": "text",
      "id": "logo_alt_text",
      "label": "Logo Alt Text",
      "default": "WTF Welcome to Florida"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Welcome to Florida"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "Cape Coral's Premier Kava Bar"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Premium edibles, beverages, cannabis and botanicals crafted for Southwest Florida."
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Primary Button Text",
      "default": "Order Now"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Primary Button Link",
      "default": "tel:(239) 955-0314"
    },
    {
      "type": "text",
      "id": "secondary_button_label",
      "label": "Secondary Button Text",
      "default": "View Menu"
    },
    {
      "type": "url",
      "id": "secondary_button_link",
      "label": "Secondary Button Link",
      "default": "#menu"
    }
  ],
  "blocks": [
    {
      "type": "social_link",
      "name": "Social Link",
      "settings": [
        {
          "type": "text",
          "id": "label",
          "label": "Icon/Text",
          "default": "ðŸ“˜"
        },
        {
          "type": "url",
          "id": "url",
          "label": "Link URL"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Hero Section",
      "blocks": [
        {
          "type": "social_link",
          "settings": {
            "label": "ðŸ“˜",
            "url": "https://www.facebook.com/"
          }
        },
        {
          "type": "social_link",
          "settings": {
            "label": "ðŸ“·",
            "url": "https://www.instagram.com/"
          }
        }
      ]
    }
  ]
}
{% endschema %}
