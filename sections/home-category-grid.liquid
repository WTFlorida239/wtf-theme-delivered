{% comment %}
  Professional Category Grid - Fortune 100 Quality
  Styled like Dunkin' Donuts and Starbucks product categories
{% endcomment %}

<section class="home-category-grid">
  <div class="page-width">
    {% if section.settings.title != blank or section.settings.subtitle != blank %}
      <div class="home-category-grid__header">
        {% if section.settings.title != blank %}
          <h2 class="home-category-grid__title">{{ section.settings.title | escape }}</h2>
        {% endif %}
        {% if section.settings.subtitle != blank %}
          <p class="home-category-grid__subtitle">{{ section.settings.subtitle | escape }}</p>
        {% endif %}
      </div>
    {% endif %}

    <div class="home-category-grid__container">
      {% for block in section.blocks %}
        {% case block.type %}
          {% when 'category' %}
            <div class="home-category-grid__item" {{ block.shopify_attributes }}>
              <a href="{{ block.settings.link | default: '#' }}" class="home-category-grid__link">
                <div class="home-category-grid__card">
                  <div class="home-category-grid__icon">
                    {% if block.settings.category_image %}
                      <img src="{{ block.settings.category_image | image_url: width: 120 }}" 
                           alt="{{ block.settings.title }}" 
                           loading="lazy" />
                    {% else %}
                      {{ block.settings.fallback_emoji | default: 'üçÉ' }}
                    {% endif %}
                  </div>
                  <div class="home-category-grid__content">
                    <h3 class="home-category-grid__item-title">{{ block.settings.title | escape }}</h3>
                    {% if block.settings.description != blank %}
                      <p class="home-category-grid__description">{{ block.settings.description | escape }}</p>
                    {% endif %}
                    {% if block.settings.meta != blank %}
                      <span class="home-category-grid__meta">{{ block.settings.meta | escape }}</span>
                    {% endif %}
                  </div>
                </div>
              </a>
            </div>
        {% endcase %}
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Category Grid",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Heading",
      "default": "Order Your Favorites"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subheading",
      "default": "Premium quality botanical products, edibles, beverages and more."
    }
  ],
  "blocks": [
    {
      "type": "category",
      "name": "Category",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Category Name"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Category description"
        },
        {
          "type": "text",
          "id": "meta",
          "label": "Meta text",
          "default": "Additional info"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        },
        {
          "type": "image_picker",
          "id": "category_image",
          "label": "Category Image"
        },
        {
          "type": "text",
          "id": "fallback_emoji",
          "label": "Emoji (fallback)",
          "default": "üçÉ"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Category Grid",
      "blocks": [
        {
          "type": "category",
          "settings": {
            "title": "Kratom Teas",
            "description": "Green, red, white & yellow strains with premium flavorings.",
            "meta": "4 strains ‚Ä¢ 25 flavors",
            "fallback_emoji": "üçµ"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "Kava Drinks",
            "description": "Traditional relaxation brews in rotating flavors.",
            "meta": "M ‚Ä¢ L ‚Ä¢ Gallons",
            "fallback_emoji": "ü••"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "Delta-9 Drinks",
            "description": "House-made cannabis drinks and specialty shots.",
            "meta": "Delta-9 ‚Ä¢ Shots",
            "fallback_emoji": "‚ú®"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "Draft Pours",
            "description": "16oz pours from our rotating taps.",
            "meta": "8 on tap",
            "fallback_emoji": "üç∫"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "Edibles",
            "description": "Premium gummies, chocolates, and baked goods.",
            "meta": "Gummies ‚Ä¢ Chocolates",
            "fallback_emoji": "üç¨"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "THC Shots",
            "description": "Fast-acting liquid THC in various flavors.",
            "meta": "2.5mg ‚Ä¢ 5mg ‚Ä¢ 10mg",
            "fallback_emoji": "üíâ"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "Take-Home Items",
            "description": "Bulk kratom, kava, and botanical products.",
            "meta": "Bulk ‚Ä¢ Retail",
            "fallback_emoji": "üì¶"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "Fun Stuff & Merch",
            "description": "WTF branded merchandise and accessories.",
            "meta": "Apparel ‚Ä¢ Accessories",
            "fallback_emoji": "üéΩ"
          }
        }
      ]
    }
  ]
}
{% endschema %}
