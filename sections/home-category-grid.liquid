{{ 'wtf_flavor_system.css' | asset_url | stylesheet_tag }}

<div class="home-category-grid color-background-1 gradient">
  <div class="page-width">
    {%- if section.settings.title != blank or section.settings.subtitle != blank -%}
      <div class="home-category-grid__header">
        {%- if section.settings.title != blank -%}
          <h2 class="home-category-grid__title">{{ section.settings.title | escape }}</h2>
        {%- endif -%}
        {%- if section.settings.subtitle != blank -%}
          <p class="home-category-grid__subtitle">{{ section.settings.subtitle | escape }}</p>
        {%- endif -%}
      </div>
    {%- endif -%}

    <div class="home-category-grid__container">
      {%- for block in section.blocks -%}
        {%- case block.type -%}
          {%- when 'category' -%}
            <div class="home-category-grid__item" {{ block.shopify_attributes }}>
              <a href="{{ block.settings.link | default: '#' }}" class="home-category-grid__link">
                <div class="home-category-grid__card">
                  <div class="home-category-grid__icon">
                    {% if block.settings.category_image %}
                      <img src="{{ block.settings.category_image | image_url: width: 150 }}" alt="{{ block.settings.title }}" loading="lazy" />
                    {% else %}
                      {{ block.settings.fallback_emoji | default: 'üçÉ' }}
                    {% endif %}
                  </div>
                  <div class="home-category-grid__content">
                    <h3 class="home-category-grid__item-title">{{ block.settings.title | escape }}</h3>
                    {%- if block.settings.description != blank -%}
                      <p class="home-category-grid__description">{{ block.settings.description | escape }}</p>
                    {%- endif -%}
                    {%- if block.settings.meta != blank -%}
                      <span class="home-category-grid__meta">{{ block.settings.meta | escape }}</span>
                    {%- endif -%}
                  </div>
                </div>
              </a>
            </div>
        {%- endcase -%}
      {%- endfor -%}
    </div>
  </div>
</div>

<style>
  .home-category-grid {
    padding: var(--spacing-sections-mobile) 0;
  }

  @media screen and (min-width: 750px) {
    .home-category-grid {
      padding: var(--spacing-sections-desktop) 0;
    }
  }

  .home-category-grid__header {
    text-align: center;
    margin-bottom: 4rem;
  }

  .home-category-grid__title {
    font-size: 3.2rem;
    font-weight: 700;
    margin-bottom: 1rem;
    color: rgb(var(--color-base-text));
  }

  .home-category-grid__subtitle {
    font-size: 1.8rem;
    color: rgba(var(--color-base-text), 0.7);
    margin: 0;
  }

  .home-category-grid__container {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
  }

  @media screen and (min-width: 550px) {
    .home-category-grid__container {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media screen and (min-width: 990px) {
    .home-category-grid__container {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  .home-category-grid__link {
    text-decoration: none;
    color: inherit;
    display: block;
    height: 100%;
  }

  .home-category-grid__card {
    background: rgba(var(--color-base-background-2), 0.8);
    border-radius: 1.6rem;
    padding: 2.4rem;
    text-align: center;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border: 1px solid rgba(var(--color-base-text), 0.1);
  }

  .home-category-grid__card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(var(--color-shadow), 0.15);
  }

  .home-category-grid__icon {
    font-size: 4rem;
    margin-bottom: 1.6rem;
    line-height: 1;
    width: 80px;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .home-category-grid__icon img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
  }

  .home-category-grid__item-title {
    font-size: 2rem;
    font-weight: 600;
    margin-bottom: 0.8rem;
    color: rgb(var(--color-base-text));
  }

  .home-category-grid__description {
    font-size: 1.4rem;
    color: rgba(var(--color-base-text), 0.7);
    margin-bottom: 1.2rem;
    line-height: 1.4;
  }

  .home-category-grid__meta {
    font-size: 1.2rem;
    color: rgb(var(--color-base-accent-1));
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.1rem;
  }
</style>

{% schema %}
{
  "name": "Home Category Grid",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Heading",
      "default": "Order your favorites"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subheading",
      "default": "Premium quality botanical products, edibles, beverages and more."
    }
  ],
  "blocks": [
    {
      "type": "category",
      "name": "Category",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Category Name"
        },
        {
          "type": "text",
          "id": "description",
          "label": "Description",
          "default": "Category description"
        },
        {
          "type": "text",
          "id": "meta",
          "label": "Meta text",
          "default": "Additional info"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        },
        {
          "type": "image_picker",
          "id": "category_image",
          "label": "Category Image"
        },
        {
          "type": "text",
          "id": "fallback_emoji",
          "label": "Emoji",
          "default": "üçÉ"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Home Category Grid",
      "blocks": [
        {
          "type": "category",
          "settings": {
            "title": "Kratom Teas",
            "description": "Green, red, white & yellow strains with premium flavorings.",
            "meta": "4 strains ‚Ä¢ 25 flavors",
            "fallback_emoji": "üçµ"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "Kava Drinks",
            "description": "Traditional relaxation brews in rotating flavors.",
            "meta": "M ‚Ä¢ L ‚Ä¢ Gallons",
            "fallback_emoji": "ü••"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "Delta-9 Drinks",
            "description": "House-made cannabis drinks and specialty shots.",
            "meta": "Delta-9 ‚Ä¢ Shots",
            "fallback_emoji": "‚ú®"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "Draft Pours",
            "description": "16oz pours from our rotating taps.",
            "meta": "8 on tap",
            "fallback_emoji": "üç∫"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "Edibles",
            "description": "Premium gummies, chocolates, and baked goods.",
            "meta": "Gummies ‚Ä¢ Chocolates",
            "fallback_emoji": "üç¨"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "THC Shots",
            "description": "Fast-acting liquid THC in various flavors.",
            "meta": "2.5mg ‚Ä¢ 5mg ‚Ä¢ 10mg",
            "fallback_emoji": "üíâ"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "Take-Home Items",
            "description": "Bulk kratom, kava, and botanical products.",
            "meta": "Bulk ‚Ä¢ Retail",
            "fallback_emoji": "üì¶"
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "Fun Stuff & Merch",
            "description": "WTF branded merchandise and accessories.",
            "meta": "Apparel ‚Ä¢ Accessories",
            "fallback_emoji": "üéΩ"
          }
        }
      ]
    }
  ]
}
{% endschema %}
