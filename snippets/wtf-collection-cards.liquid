{%- comment -%}
Reusable card grid for rendering a list of simple flavor/items with the
homepage "Dunkin" visual style.
Props:
  - title: heading for the page/section
  - items: array of strings to render as cards
  - color: one of kratom|kava|thc to pick header gradient
  - back_url: optional URL for back button
{%- endcomment -%}

<style>
  .wtf-collection-wrap { max-width: 1100px; margin: 0 auto; padding: 30px 16px 60px; }
  .wtf-collection-title { font-size: 42px; font-weight: 800; color: #333; margin: 10px 0 18px; }
  .wtf-collection-sub { color: #666; margin-bottom: 22px; }
  .wtf-collection-back { display:inline-block; margin-bottom: 18px; padding:10px 16px; border-radius:25px; border:2px solid #ff6600; color:#ff6600; text-decoration:none; font-weight:700; }
  .wtf-collection-back:hover{ background:#ff6600; color:#fff; }

  .wtf-items-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(240px,1fr)); gap:18px; }
  .wtf-item-card { background:#fff; border-radius:18px; box-shadow:0 8px 25px rgba(0,0,0,0.1); overflow:hidden; transition:transform .2s ease, box-shadow .2s ease; }
  .wtf-item-card:hover{ transform:translateY(-4px); box-shadow: 0 15px 35px rgba(0,0,0,.15); }
  .wtf-item-card > a { color:inherit; text-decoration:none; display:block; height:100%; }
  .wtf-item-head { height:110px; display:flex; align-items:center; justify-content:center; color:#fff; font-weight:800; letter-spacing:.3px; position:relative; overflow:hidden; }
  .wtf-item-head-emoji { font-size:42px; line-height:1; }
  .wtf-item-head-image { width:90px; height:90px; object-fit:cover; border-radius:50%; box-shadow:0 6px 16px rgba(0,0,0,0.2); background:#fff; padding:6px; }
  .wtf-item-body { padding:18px 20px; text-align:center; display:flex; flex-direction:column; gap:10px; }
  .wtf-item-name { font-size:20px; font-weight:800; color:#222; }
  .wtf-item-copy { margin:0; color:#555; font-size:15px; }
  .wtf-item-meta { margin:0; font-size:13px; font-weight:700; text-transform:uppercase; letter-spacing:.08em; color:#888; }

  .wtf-head-kratom{ background:linear-gradient(135deg,#4caf50 0%, #66bb6a 100%); }
  .wtf-head-kava{ background:linear-gradient(135deg,#2196f3 0%, #42a5f5 100%); }
  .wtf-head-thc{ background:linear-gradient(135deg,#9c27b0 0%, #ba68c8 100%); }

  @media (max-width: 768px){
    .wtf-collection-title{ font-size:32px; }
    .wtf-items-grid{ grid-template-columns:1fr; }
  }
</style>

<div class="wtf-collection-wrap">
  {% if back_url %}<a class="wtf-collection-back" href="{{ back_url }}">‚Üê Back to Menu</a>{% endif %}
  {% if title %}<h1 class="wtf-collection-title">{{ title }}</h1>{% endif %}
  {% if subtitle %}<p class="wtf-collection-sub">{{ subtitle }}</p>{% endif %}
  <div class="wtf-items-grid">
    {% for item in items %}
      {% assign item_title = item.title | default: item %}
      {% assign item_description = item.description %}
      {% assign item_meta = item.meta %}
      {% assign item_link = item.link %}
      {% assign item_image_asset = item.image_asset %}
      {% assign item_emoji = item.fallback_emoji %}
      <div class="wtf-item-card">
        {% if item_link %}<a href="{{ item_link }}">{% endif %}
          <div class="wtf-item-head wtf-head-{{ color | default: 'kratom' }}">
            {% if item_image_asset %}
              {{ item_image_asset | image_url: width: 180 | image_tag: alt: item_title, class: 'wtf-item-head-image', loading: 'lazy', decoding: 'async' }}
            {% elsif item_emoji %}
              <span class="wtf-item-head-emoji">{{ item_emoji }}</span>
            {% else %}
              <span>{{ color | capitalize }}</span>
            {% endif %}
          </div>
          <div class="wtf-item-body">
            <div class="wtf-item-name">{{ item_title }}</div>
            {% if item_description %}
              <p class="wtf-item-copy">{{ item_description }}</p>
            {% endif %}
            {% if item_meta %}
              <p class="wtf-item-meta">{{ item_meta }}</p>
            {% endif %}
          </div>
        {% if item_link %}</a>{% endif %}
      </div>
    {% endfor %}
  </div>
</div>
